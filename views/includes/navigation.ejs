<div class="backdrop"></div>
<header>
  <button id="side-menu-toggle">Menu</button>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a
      class="navbar-brand nav-link <%= path === '/' ? 'active' : '' %>"
      href="/"
      >Shopper's</a
    >
    <!-- <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button> -->

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <form class="form-inline my-2 my-lg-0">
        <input
          class="form-control mr-sm-2"
          type="search"
          placeholder="Search"
          aria-label="Search"
        />
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">
          Search
        </button>
      </form>
      <ul class="navbar-nav mr-auto nav nav-tabs">
        <li class="nav-item">
          <a
            class="nav-link <%= path === '/products' ? 'active' : '' %>"
            href="/products"
            >Products</a
          >
        </li>

        <% if (isAuthenticated) { %>
        <li class="nav-item">
          <a
            class="nav-link <%= path === '/cart' ? 'active' : '' %>"
            href="/cart"
            >Cart</a
          >
        </li>

        <li class="nav-item">
          <a
            class="nav-link <%= path === '/orders' ? 'active' : '' %>"
            href="/orders"
            >Orders</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link <%= path === '/admin/add-product' ? 'active' : '' %>"
            href="/admin/add-product"
            >Add Product
          </a>
        </li>
        <li class="nav-item">
          <a
            class="nav-link <%= path === '/admin/products' ? 'active' : '' %>"
            href="/admin/products"
            >Admin Products
          </a>
        </li>
        <% } %>

        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            id="navbarDropdown"
            role="button"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Dropdown
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="#">Action</a>
            <a class="dropdown-item" href="#">Another action</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">Something else here</a>
          </div>
        </li>
      </ul>

      <ul class="navbar-nav mr-auto nav nav-tabs">
        <% if (!isAuthenticated) { %>
        <li class="nav-item">
          <a
            class="nav-link <%= path === '/login' ? 'active' : '' %>"
            href="/login"
            >Login</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link <%= path === '/signup' ? 'active' : '' %>"
            href="/signup"
            >Signup</a
          >
        </li>
        <% } else { %>
        <li class="nav-link">
          <form action="/logout" method="post">
            <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
            <button class="btn btn-primary" type="submit">Logout</button>
          </form>
        </li>
        <% } %>
      </ul>
    </div>
  </nav>
</header>

<nav class="mobile-nav">
  <ul class="mobile-nav__item-list">
    <li class="mobile-nav__item">
      <a class="<%= path === '/' ? 'active' : '' %>" href="/">Shop</a>
    </li>
    <li class="mobile-nav__item">
      <a class="<%= path === '/products' ? 'active' : '' %>" href="/products"
        >Products</a
      >
    </li>
    <% if (isAuthenticated) { %>
    <li class="mobile-nav__item">
      <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">Cart</a>
    </li>
    <li class="mobile-nav__item">
      <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders"
        >Orders</a
      >
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/admin/add-product' ? 'active' : '' %>"
        href="/admin/add-product"
        >Add Product
      </a>
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/admin/products' ? 'active' : '' %>"
        href="/admin/products"
        >Admin Products
      </a>
    </li>
    <% } %> <% if (!isAuthenticated) { %>
    <li class="mobile-nav__item">
      <a class="<%= path === '/login' ? 'active' : '' %>" href="/login"
        >Login</a
      >
    </li>
    <li class="mobile-nav__item">
      <a class="<%= path === '/signup' ? 'active' : '' %>" href="/signup"
        >Signup</a
      >
    </li>
    <% } else { %>
    <li class="mobile-nav__item">
      <form action="/logout" method="post">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
        <button type="submit">Logout</button>
      </form>
    </li>
    <% } %>
  </ul>
</nav>
