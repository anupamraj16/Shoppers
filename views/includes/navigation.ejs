<div class="backdrop"></div>
<header>
  <button id="side-menu-toggle">Menu</button>
  <nav class="navbar navbar-expand-lg navbar-light">
    <a
      class="navbar-brand nav-link <%= path === '/' ? 'active' : '' %>"
      href="/"
      >Shopper's</a
    >
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <form class="form-inline my-2 my-lg-0 input-group flex-nowrap" action='/search' method="GET" style="width: 40rem;">
        <input
          id="search"
          class="form-control"
          type="search"
          placeholder="Find Anything"
          name="s"
        />
        <button id="search-btn" class="btn btn-outline-secondary my-2 my-sm-0" type="submit">
          Search
        </button>
      </form>

    </div>

      <ul class="navbar-nav ml-auto">
        <% if (!isAuthenticated) { %>
        <li class="nav-item">
          <a
            class="nav-link <%= path === '/login' ? 'active' : '' %>"
            href="/login"
            >Login</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link <%= path === '/signup' ? 'active' : '' %>"
            href="/signup"
            >Signup</a
          >
        </li>
        <% } else { %>

        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            id="navbarDropdown"
            role="button"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Admin
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a
              class="nav-link <%= path === '/admin/products' ? 'active' : '' %>"
              href="/admin/products"
              >Listed Products
            </a>
            <a
              class="nav-link <%= path === '/admin/add-product' ? 'active' : '' %>"
              href="/admin/add-product"
              >Add Product
            </a>
          </div>
        </li>

        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            id="navbarDropdown"
            role="button"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Account
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            
            <a
              class="nav-link <%= path === '/orders' ? 'active' : '' %>"
              href="/orders"
              >Orders</a
            >
            <div class="dropdown-divider"></div>
            <form action="/logout" method="post">
              <input type="hidden" name="_csrf" value="<%= csrfToken %>">
              <button class="btn" type="submit">Logout</button>
            </form>
          </div>
        </li>
        <a
              class="nav-link <%= path === '/cart' ? 'active' : '' %>"
              href="/cart"
              >Cart</a
            >
        <% } %>
      </ul>
    </div>
  </nav>
</header>

<nav class="mobile-nav">
  <ul class="mobile-nav__item-list">
    <li class="mobile-nav__item">
      <a class="<%= path === '/' ? 'active' : '' %>" href="/">Shop</a>
    </li>
    <li class="mobile-nav__item">
      <a class="<%= path === '/products' ? 'active' : '' %>" href="/products"
        >Products</a
      >
    </li>
    <% if (isAuthenticated) { %>
    <li class="mobile-nav__item">
      <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">Cart</a>
    </li>
    <li class="mobile-nav__item">
      <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders"
        >Orders</a
      >
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/admin/add-product' ? 'active' : '' %>"
        href="/admin/add-product"
        >Add Product
      </a>
    </li>
    <li class="mobile-nav__item">
      <a
        class="<%= path === '/admin/products' ? 'active' : '' %>"
        href="/admin/products"
        >Admin Products
      </a>
    </li>
    <% } %> <% if (!isAuthenticated) { %>
    <li class="mobile-nav__item">
      <a class="<%= path === '/login' ? 'active' : '' %>" href="/login"
        >Login</a
      >
    </li>
    <li class="mobile-nav__item">
      <a class="<%= path === '/signup' ? 'active' : '' %>" href="/signup"
        >Signup</a
      >
    </li>
    <% } else { %>
    <li class="mobile-nav__item">
      <form action="/logout" method="post">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        <button type="submit">Logout</button>
      </form>
    </li>
    <% } %>
  </ul>
</nav>
