<header>
  <nav id="navbar" class="navbar navbar-expand-lg navbar-light">
    <a
      class="navbar-brand nav-link <%= path === '/' ? 'active' : '' %>"
      href="/"
    >
      Shopper's
    </a>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <form
        class="form-inline my-2 my-lg-0 input-group flex-nowrap"
        action="/search"
        method="GET"
        style="width: 40rem;"
      >
        <input
          id="search"
          class="form-control"
          type="search"
          placeholder="Find Anything"
          name="s"
        />
        <button id="search-btn" class="btn btn-outline-secondary" type="submit">
          Search
        </button>
      </form>
    </div>
    <ul class="navbar-nav ml-auto">
      <% if (!isAuthenticated) { %>
      <li class="nav-item">
        <a
          class="nav-link <%= path === '/login' ? 'active' : '' %>"
          href="/login"
        >
          Login
        </a>
      </li>
      <li class="nav-item">
        <a
          class="nav-link <%= path === '/signup' ? 'active' : '' %>"
          href="/signup"
        >
          Signup
        </a>
      </li>
      <% } else { %>

      <li class="nav-item dropdown">
        <a
          class="nav-link dropdown-toggle <%= path === '/admin/products' || '/admin/add-product' ? 'active' : '' %>"
          href="#"
          id="navbarDropdown"
          role="button"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Admin
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="nav-link" href="/admin/products">
            Listed Products
          </a>
          <a class="nav-link" href="/admin/add-product">
            Add Product
          </a>
        </div>
      </li>

      <li class="nav-item dropdown">
        <a
          class="nav-link dropdown-toggle <%= path === '/orders' || '/settings' ? 'active' : '' %>"
          href="#"
          id="navbarDropdown"
          role="button"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Account
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="nav-link" href="/orders">
            Orders
          </a>
          <a class="nav-link" href="/settings">
            Settings
          </a>
          <div class="dropdown-divider"></div>
          <form action="/logout" method="post">
            <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
            <button class="btn" type="submit">Logout</button>
          </form>
        </div>
      </li>
      <a
        id="cart-items-count"
        class="nav-link <%= path === '/cart' ? 'active' : '' %>"
        href="/cart"
      >
        Cart(<%= cartItemCount %>)</a
      >
      <% } %>
    </ul>
  </nav>
</header>
